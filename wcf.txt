----------------default.aspx-----------------------
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default.aspx.cs" Inherits="_Default" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
    <div>
    
        Course Data :-<br />
    
        <asp:GridView ID="GridView1" runat="server" CellPadding="4" ForeColor="#333333" GridLines="None">
            <AlternatingRowStyle BackColor="White" ForeColor="#284775" />
            <EditRowStyle BackColor="#999999" />
            <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
            <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
            <PagerStyle BackColor="#284775" ForeColor="White" HorizontalAlign="Center" />
            <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
            <SelectedRowStyle BackColor="#E2DED6" Font-Bold="True" ForeColor="#333333" />
            <SortedAscendingCellStyle BackColor="#E9E7E2" />
            <SortedAscendingHeaderStyle BackColor="#506C8C" />
            <SortedDescendingCellStyle BackColor="#FFFDF8" />
            <SortedDescendingHeaderStyle BackColor="#6F8DAE" />
        </asp:GridView>
        <br />
        Class Data :-<br />
        <br />
       
    <asp:GridView ID="GridView2" runat="server" CellPadding="4" ForeColor="#333333" GridLines="None">
        <AlternatingRowStyle BackColor="White" ForeColor="#284775" />
        <EditRowStyle BackColor="#999999" />
        <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
        <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
        <PagerStyle BackColor="#284775" ForeColor="White" HorizontalAlign="Center" />
        <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
        <SelectedRowStyle BackColor="#E2DED6" Font-Bold="True" ForeColor="#333333" />
        <SortedAscendingCellStyle BackColor="#E9E7E2" />
        <SortedAscendingHeaderStyle BackColor="#506C8C" />
        <SortedDescendingCellStyle BackColor="#FFFDF8" />
        <SortedDescendingHeaderStyle BackColor="#6F8DAE" />
        </asp:GridView>
        
        <br />
        Registration :-<br />
        <br />
        Name&nbsp;
        <asp:TextBox ID="txtname" runat="server"></asp:TextBox>
&nbsp;<br />
        <br />
        
         Course <asp:DropDownList ID="DropDownList1" runat="server" >
        </asp:DropDownList>
        <br />
        <br />
         Class&nbsp;&nbsp;&nbsp;
         <asp:DropDownList ID="DropDownList2" runat="server" >
        </asp:DropDownList>
        <br />
        <br />
        Email&nbsp;&nbsp;
        <asp:TextBox ID="txtemail" runat="server" TextMode="Email"></asp:TextBox>
        <br />
        <br />
        Mobile No
        <asp:TextBox ID="txtmob" runat="server" TextMode="Number"></asp:TextBox>
        <br />
        <br />
        dob&nbsp;
        <asp:TextBox ID="txtdate" TextMode="date" runat="server"></asp:TextBox>
        <br />
        <br />
        <asp:Button ID="btninsert" runat="server" OnClick="btninsert_Click" Text="Insert" />
        <br />
        <br />
        <br />
        Student data :-<br />
        <asp:GridView ID="GridView3" runat="server" CellPadding="4" ForeColor="#333333" GridLines="None">
            <AlternatingRowStyle BackColor="White" ForeColor="#284775" />
            <EditRowStyle BackColor="#999999" />
            <FooterStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
            <HeaderStyle BackColor="#5D7B9D" Font-Bold="True" ForeColor="White" />
            <PagerStyle BackColor="#284775" ForeColor="White" HorizontalAlign="Center" />
            <RowStyle BackColor="#F7F6F3" ForeColor="#333333" />
            <SelectedRowStyle BackColor="#E2DED6" Font-Bold="True" ForeColor="#333333" />
            <SortedAscendingCellStyle BackColor="#E9E7E2" />
            <SortedAscendingHeaderStyle BackColor="#506C8C" />
            <SortedDescendingCellStyle BackColor="#FFFDF8" />
            <SortedDescendingHeaderStyle BackColor="#6F8DAE" />
        </asp:GridView>
    </div>
    </form>
</body>
</html>
------------------default.aspx.cs---------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using ServiceReference1;

public partial class _Default : System.Web.UI.Page

{
    protected void Page_Load(object sender, EventArgs e)
    {
        ServiceClient sc = new ServiceClient();
        var c = sc.allgetcourse();
        GridView1.DataSource = c;
        GridView1.DataBind();
        //sc.Close();

        //ServiceClient sc = new ServiceClient();



        DropDownList1.DataSource = c;
        DropDownList1.DataTextField = "name";
        DropDownList1.DataValueField = "id";
        DropDownList1.DataBind();

        var cls = sc.allgetclass();
        GridView2.DataSource = cls;
        GridView2.DataBind();


        DropDownList2.DataSource = cls;
        DropDownList2.DataTextField = "name";
        DropDownList2.DataValueField = "id";
        DropDownList2.DataBind();

        var s = sc.allgetstudent();
        GridView3.DataSource = s;
        GridView3.DataBind();

        sc.Close();
    }



    protected void btninsert_Click(object sender, EventArgs e)
    {
        ServiceClient sc = new ServiceClient();
        insertstudent ins = new insertstudent();
        ins.scourse = Convert.ToInt32(DropDownList1.SelectedValue);
        ins.scclass = Convert.ToInt32(DropDownList2.SelectedValue);

        ins.sname = txtname.Text;
        ins.semail = txtemail.Text;
        ins.sphone = txtmob.Text;
        ins.sdate = txtdate.Text;
        string r = sc.insert(ins);
        Response.Write("Data Inserted!!");
        Response.Redirect("Default.aspx");

    }
}
----------------------serice.cs------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.Text;
using System.Data;
using System.Data.SqlClient;

// NOTE: You can use the "Rename" command on the "Refactor" menu to change the class name "Service" in code, svc and config file together.
public class Service : IService
{
   public List<getcourse> allgetcourse()
    {
        List<getcourse> gc = new List<getcourse>();
      
        getcourse gca;

        SqlConnection cn = new SqlConnection("Data Source=.\\SQLEXPRESS;Initial Catalog=As3-Q1;User ID=sa;Password=sa123");
        cn.Open();
        string query = "select * from course";
        SqlCommand cmd = new SqlCommand(query,cn);
        SqlDataReader dr = cmd.ExecuteReader();
        if(dr.HasRows)
        {
            while(dr.Read())
            {
                gca = new getcourse();
                gca.id = Convert.ToInt32(dr[0].ToString());
                gca.name = dr[1].ToString();
                gc.Add(gca);
            }
        }
        cn.Close();
        return gc;
    }

    public List<getclass> allgetclass()
    {
        List<getclass> gc = new List<getclass>();

        getclass gca;
        SqlConnection cn = new SqlConnection("Data Source=.\\SQLEXPRESS;Initial Catalog=As3-Q1;User ID=sa;Password=sa123");
        cn.Open();
        string query = "select * from class";
        SqlCommand cmd = new SqlCommand(query, cn);
        SqlDataReader dr = cmd.ExecuteReader();
        if (dr.HasRows)
        {
            while (dr.Read())
            {
                gca = new getclass();
                gca.id = Convert.ToInt32(dr[0].ToString());
                gca.name = dr[1].ToString();
                gc.Add(gca);
            }
        }
        cn.Close();
        return gc;
    }

    public string insert(insertstudent student)
    {
        string a;
        SqlConnection cn = new SqlConnection("Data Source=.\\SQLEXPRESS;Initial Catalog=As3-Q1;User ID=sa;Password=sa123");
        cn.Open();
        string query = "insert into tablestudent (name,class,course,email,mobile,dob) values ('" + student.sname + "','" + student.scclass + "','" + student.scourse + "','" + student.semail + "','" + student.sphone + "','" + student.sdate + "')";
        SqlCommand cmd = new SqlCommand(query, cn);
        int r = cmd.ExecuteNonQuery();
        if(r == 1)
        {
            a = "inserted!";
        }
        else
        {
            a = "not";
        }
        cn.Close();
        return a;
    }

    public List<getstudent> allgetstudent()
    {
        List<getstudent> gc = new List<getstudent>();

        getstudent gca;
        SqlConnection cn = new SqlConnection("Data Source=.\\SQLEXPRESS;Initial Catalog=As3-Q1;User ID=sa;Password=sa123");
        cn.Open();
        string query = "select * from tablestudent";
        SqlCommand cmd = new SqlCommand(query, cn);
        SqlDataReader dr = cmd.ExecuteReader();
        if (dr.HasRows)
        {
            while (dr.Read())
            {
                gca = new getstudent();
                gca.rollno = Convert.ToInt32(dr[0].ToString());
                gca.name = dr[1].ToString();
                gca.cclass = dr[2].ToString();
                gca.course = dr[3].ToString();
                gca.email = dr[4].ToString();
                gca.phoneno = dr[5].ToString();
                gca.dob = dr[6].ToString();

                gc.Add(gca);
            }
        }
        cn.Close();
        return gc;
    }
}
------------------------------Iservice.cs-----------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.Text;

// NOTE: You can use the "Rename" command on the "Refactor" menu to change the interface name "IService" in both code and config file together.
[ServiceContract]
public interface IService
{
    //[OperationContract]
    //void DoWork();
    [OperationContract]
    List<getcourse> allgetcourse();

    [OperationContract]
    List<getclass> allgetclass();

    [OperationContract]
    List<getstudent> allgetstudent();

    [OperationContract]
    string insert(insertstudent student);

}

[DataContract]
public class getcourse{

    [DataMember]
    public int id { get; set; }

    [DataMember]
    public string name{ get; set; }
}

[DataContract]
public class getclass
{

    [DataMember]
    public int id { get; set; }

    [DataMember]
    public string name { get; set; }
}

[DataContract]
public class getstudent
{

    [DataMember]
    public int rollno { get; set; }

    [DataMember]
    public string name { get; set; }

    [DataMember]
    public string email { get; set; }
    [DataMember]
    public string phoneno { get; set; }
    [DataMember]
    public string cclass { get; set; }
    [DataMember]
    public string course { get; set; }
    [DataMember]
    public string dob { get; set; }
}

[DataContract]
public class insertstudent
{
    string name;
    string email;
    string phone;
    string date;
    int course;
    int cclass;
    

    [DataMember]
    public string sname
    {
        get { return name;}
        set { name = value; }
    }
    [DataMember]
    public string semail
    {
        get { return email; }
        set { email = value; }
    }
    [DataMember]
    public string sphone
    {
        get { return phone; }
        set { phone = value; }
    }

    [DataMember]
    public int scourse
    {
        get { return course; }
        set { course = value; }
    }

    [DataMember]
    public int scclass
    {
        get { return cclass; }
        set { cclass = value; }
    }
    [DataMember]
    public string sdate
    {
        get { return date; }
        set { date = value; }
    }
}

